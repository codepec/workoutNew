<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<title>Iron Insanity â€” TrainingsÃ¼bersicht</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="manifest" href="../manifest.json">
<meta name="theme-color" content="#020617">
<link rel="stylesheet" href="../styles/app.css">

<style>

/* =========================
   BASE
========================= */

html,body{
  margin:0;
  background:linear-gradient(135deg,#020617,#0f172a);
  color:white;
  font-family:system-ui,Arial;
  
}

/* =========================
   HERO
========================= */

.hero{
  width: 100%;
  padding:34px 22px 28px;

  border-bottom:1px solid #1f2937;
}

.hero-inner{
  max-width:980px;
  margin:0 auto;
}

.hero-title{
  font-size:2.3rem;
  font-weight:1000;
}

.hero-sub{
  margin-top:6px;
  color:#9ca3af;
  font-size:.95rem;
  font-weight:600;
}

/* ===== SUMMARY ===== */

.hero-summary{
  margin-top:22px;
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:12px;
}

.hero-stat{
  background:#111827;
  border:1px solid #1f2937;
  border-radius:16px;
  padding:14px;
  text-align:center;
}

.hero-stat-label{
  font-size:.7rem;
  opacity:.6;
}

.hero-stat-value{
  font-size:1.3rem;
  font-weight:900;
}

/* =========================
   LIST
========================= */

.list{
  padding:20px;
  padding-bottom:130px;
  max-width:980px;
  margin:0 auto;
  width: 90%;

}

/* =========================
   EXERCISE CARD
========================= */

.exercise{
  background:#111827;
  border-radius:20px;
  padding:18px;
  margin-bottom:16px;
  border:2px solid #1f2937;
  box-shadow:0 10px 30px rgba(0,0,0,.4);
  position:relative;
}

.exercise-index{
  position:absolute;
  top:-10px;
  right:12px;
  background:#22c55e;
  color:black;
  font-weight:900;
  font-size:.8rem;
  padding:4px 9px;
  border-radius:999px;
}

.exercise h3{
  margin:0 0 12px;
  font-size:1.15rem;
}

/* ===== INFO GRID ===== */

.row{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:8px;
}

.badge{
  background:#020617;
  border:1px solid #1f2937;
  border-radius:12px;
  padding:8px 6px;
  text-align:center;
}

.badge-label{
  font-size:.65rem;
  opacity:.6;
}

.badge-value{
  font-size:.95rem;
  font-weight:800;
}

/* ===== XP BAR ===== */

.xpbar{
  margin-top:12px;
  height:8px;
  background:#1f2937;
  border-radius:999px;
  overflow:hidden;
}

.xpfill{
  height:100%;
  background:crimson;
}

/* =========================
   FOOTER
========================= */

.footer{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  padding:16px;
  background:#020617;
  border-top:1px solid #1f2937;
}


@media screen {
  .hero{
  width: 85%;
  };
  .list{
      width: 90%;
  }
}


</style>
</head>

<body>

<!-- =========================
     HERO
========================= -->

<div class="hero">
  <div class="hero-inner">

    <div class="hero-title">
      Ãœbersicht Tag
    </div>

    <div class="hero-sub" id="heroSub">
      Woche â€” Tag
    </div>

    <div class="hero-summary">
      <div class="hero-stat">
        <div class="hero-stat-label">Ãœbungen</div>
        <div class="hero-stat-value" id="statExercises">0</div>
      </div>

      <div class="hero-stat">
        <div class="hero-stat-label">SÃ¤tze</div>
        <div class="hero-stat-value" id="statSets">0</div>
      </div>

      <div class="hero-stat">
        <div class="hero-stat-label">XP</div>
        <div class="hero-stat-value" id="statXp">0</div>
      </div>
    </div>

  </div>
</div>

<!-- =========================
     LIST
========================= -->

<div class="list" id="exerciseList"></div>

<!-- =========================
     FOOTER
========================= -->



<script>

/* =========================
   CONFIG
========================= */

const MISSIONS={
 Push:"ðŸŽ¯ Brust & Trizeps pulverisieren",
 Pull:"ðŸŽ¯ RÃ¼cken & Bizeps zerstÃ¶ren",
 Legs:"ðŸŽ¯ UnterkÃ¶rper im Schlachtmodus"
};

const week = parseInt(localStorage.getItem("selectedWeek")) || 1;
const day  = localStorage.getItem("selectedDay") || "Push";

/* HERO SUBTEXT */

heroSub.innerText =
  `Woche ${week} â€¢ ${day}`;

/* =========================
   LOAD DATA
========================= */

async function loadExercises(){
 const res = await fetch("../data/data.json");
 const data = await res.json();
 const list = data.weeks.find(w=>w.week===week)[day];
 render(list);
}

/* =========================
   RENDER
========================= */

function render(list){

 exerciseList.innerHTML="";

 let totalSets=0;
 let totalXp=0;

 list.forEach((ex,i)=>{

  totalSets += Number(ex.sets)||0;
  totalXp   += Number(ex.xp)||0;

  const box=document.createElement("div");
  box.className="exercise";

  box.innerHTML=`
    <div class="exercise-index">${i+1}</div>
    <h3>${ex.exercise}</h3>

    <div class="row">
      <div class="badge"><div class="badge-label">SÃ¤tze</div><div class="badge-value">${ex.sets}</div></div>
      <div class="badge"><div class="badge-label">Wdh</div><div class="badge-value">${ex.repetitions}</div></div>
      <div class="badge"><div class="badge-label">kg</div><div class="badge-value">${ex.weight}</div></div>
      <div class="badge"><div class="badge-label">Pause</div><div class="badge-value">${ex.pause}s</div></div>
      <div class="badge"><div class="badge-label">XP</div><div class="badge-value">${ex.xp}</div></div>
    </div>

    <div class="xpbar">
      <div class="xpfill" style="width:${Math.min(ex.xp/200*100,100)}%"></div>
    </div>
  `;

  exerciseList.appendChild(box);
 });

 /* HERO SUMMARY UPDATE */

 statExercises.innerText = list.length;
 statSets.innerText = totalSets;
 statXp.innerText = totalXp;
}

/* =========================
   NAV
========================= */

function startTraining(){
 location.href="./cards.html";
}

function goBack(){
 location.href="../index.html";
}

loadExercises();

</script>

<script src="../components/layout.js"></script>
<script>
loadLayout("../pages/preview.html","../index.html");
</script>

</body>
</html>
